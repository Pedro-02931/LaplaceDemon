# Ganhos em relação entre o método tradicional e o meu

Como eu conversei no passado com um professor, um dos grandes problemas da coleta de dados é o fato dela não servir para porra nenhuma! Ou seja, a forma mais basica de se saber sobre o sistema é acessando o /proc/stat, mas inferir isso manualmente e ficar ajustando requer um nível de compreensão de que só pessoas ~~austistas~~ com formação na area conseguem compreender.&#x20;

Tecnicamente, a unica coisa que o computador faz ao acessar esses arquivos é imprimir uma foto do estado atual,  o que não é muito util para nós, meros mortais, a minha ideia é usar funções para ler esses estados e assim garantir com que, de forma autonoma, ele tome decisões baseadas em evidência, seguindo assim um modelo Bayesiano ao invés de simplesmente burro e reativo.

Ao calcular a utilização da CPU através da comparação de dois estados do arquivo `/proc/stat` em um curto intervalo de tempo, pode-se inferir o consumo com base nas diferenças registradas, dado que ele registra de forma somatória todos os tempos usados de CPU.&#x20;

Ao registrar os valores dos contadores em um momento e compará-los com os valores em um momento posterior, a função consegue determinar a quantidade de tempo que a CPU passou em estados ativos durante esse intervalo.&#x20;

A abordagem de "delta" fornece uma medição mais precisa e representativa da carga de trabalho real do processador, pois leva em conta a atividade que ocorreu entre as duas leituras, evitando as limitações de uma simples leitura pontual e oferecendo uma base mais sólida para as decisões de gerenciamento de recursos.

| **Característica**                | **Método Tradicional (Leitura Única de /proc/stat)** | **Meu Método (get\_cpu\_usage)**                                                                                                                                                                                                                                                             |
| --------------------------------- | ---------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Precisão da Medição**           | Fornece uma leitura pontual da utilização.           | Calcula a utilização da CPU com base na diferença entre duas leituras do `/proc/stat`, o que oferece uma representação mais precisa da atividade da CPU durante um determinado intervalo de tempo, suavizando picos instantâneos e fornecendo uma média da utilização nesse período.         |
| **Detecção de Carga**             | Pode perder picos curtos de atividade.               | Ao comparar dois momentos, a função consegue detectar a quantidade de tempo que a CPU ficou ocupada entre essas leituras, capturando melhor a carga real de trabalho, incluindo atividades que poderiam passar despercebidas em uma leitura única.                                           |
| **Análise Temporal**              | Não permite análise da variação da utilização.       | A comparação entre dois estados permite inferir a tendência de uso da CPU (se está aumentando, diminuindo ou estável), o que é mais útil para tomadas de decisão adaptativas do que apenas um valor isolado.                                                                                 |
| **Redução de Ruído**              | Mais suscetível a leituras momentâneas atípicas.     | A abordagem de delta ajuda a reduzir o impacto de leituras momentâneas que podem não refletir a carga de trabalho sustentada, fornecendo uma visão mais consistente da utilização da CPU ao longo do tempo, que é mais relevante para o gerenciamento de recursos a longo prazo.             |
| **Histórico Implícito**           | Não mantém histórico sem implementação adicional.    | A função utiliza um arquivo de histórico (`.stat`) para armazenar a leitura anterior do `/proc/stat`, o que é um passo para análises mais sofisticadas que podem envolver o histórico de utilização da CPU para prever tendências futuras ou ajustar as políticas de forma mais inteligente. |
| **Conformidade com media de uso** | Burro e inexistente                                  | Ao fornecer uma medição da utilização em um intervalo, a saída desta função é mais adequada para ser utilizada como entrada para o cálculo na função `faz_o_urro`, permitindo uma análise de tendência ainda mais refinada da carga da CPU.                                                  |
| **Complexidade**                  | Mais simples de implementar.                         | Requer a leitura e comparação de dois estados, introduzindo um pouco mais de complexidade, mas resultando em uma medição mais robusta e informativa da utilização da CPU para fins de gerenciamento de recursos e adaptação de políticas do sistema.                                         |

